---
layout: default
title: "Обновление OpenCart - Документация OpenCart"
permalink: ru-ru/upgrading/
---
<h1>Обновление OpenCart</h1>
<p>OpenCart периодически обновляется с новыми версиями. Рекомендуется обновлять ваш магазин с каждой новой версией, чтобы воспользоваться исправлениями ошибок и новыми функциями. Хотя может показаться, что обновление магазина каждый раз, когда выходит новая версия, является хлопотным делом, в долгосрочной перспективе это стоит усилий. Существуют способы избежать трудностей с обновлениями, такие как использование качественных тем и модулей, которые не изменяют ядро OpenCart, или использование vQmod.</p>
<p>В этом руководстве объясняется, как обновить OpenCart с версии v2.x.x до последней версии 3. Версии, ранее чем 1.5.4, не включены, так как они больше не доступны.</p>

<h2>Проверка требований для новой версии</h2>
<p>Чтобы узнать, может ли магазин со старой версией обновиться до самой новой версии, веб-сервер должен соответствовать базовым техническим требованиям. Чтобы увидеть последние технические требования для последней версии OpenCart 3.0.x, см. <a href="ru/requirements/">Системные требования</a>.</p>

<div class="alert alert-info" role="alert">
  <i class="fas fa-info-circle"></i>
  РЕЗЕРВНОЕ КОПИРОВАНИЕ СУЩЕСТВУЮЩИХ ФАЙЛОВ МАГАЗИНА И БАЗЫ ДАННЫХ!!
  <ol>
    <li>Создайте резервную копию вашей базы данных через админку вашего магазина: Админ->Система->Резервное копирование, нажмите <i class="fas fa-download"></i> Скачайте базу данных.</li>
    <li>Создайте резервную копию файлов, используя FTP-копирование файлов или используйте файловый менеджер cPanel, чтобы создать zip-архив всех существующих файлов и папок OpenCart.</li>
  </ol>
</div>


<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="heading-oc23x2oc30x">
      <h4 class="panel-title">
        <a role="button" data-toggle="collapse" data-parent="#accordion" href="#oc23x2oc30x" aria-expanded="true" aria-controls="oc23x2oc30x">
          Обновление с 2.x.x до 3.0.x
        </a>
      </h4>
    </div>
    <div id="oc23x2oc30x" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="heading-oc23x2oc30x">
      <div class="panel-body">
        <ol>
          <li>
            Скачайте последнюю версию OpenCart и загрузите ВСЕ новые файлы поверх вашей текущей установки, ИСКЛЮЧАЯ ваши <code>config.php</code> и <code>admin/config.php</code>.
            <br/>
            - <strong>#1</strong> Создайте резервную копию и удалите все файлы представлений 2.x.x. Поскольку OpenCart 3 начинает использовать TWIG вместо формата TPL.<br/>
            - <strong>#2</strong> Перед обновлением до последней версии вам следует дважды проверить совместимость существующих расширений (в вашем магазине) с последней версией. Пожалуйста, свяжитесь с разработчиком для получения информации перед обновлением.<br/>
            - <strong>#3</strong> Не только расширения, все темы в OpenCart 2 не могут быть использованы в OpenCart 3. Вам следует установить тему вашего магазина на тему по умолчанию и сначала отключить все расширения.
          </li>
          <li>
            Перейдите по адресу <a href="https://yourstore.com/install">https://yourstore.com/install</a>, заменив <strong>yourstore.com</strong> на ваш фактический сайт (и подкаталог, если это применимо).
          </li>
          <li>
            Вы должны увидеть скрипт обновления OpenCart.
            <br/>
            - Если вы видите страницу установки OpenCart, это значит, что вы перезаписали ваши файлы <code>config.php</code>. Восстановите их из вашей резервной копии сначала. Затем попробуйте снова.
          </li>
          
          <li>
            Нажмите <a class="btn btn-primary">Обновить</a>, через несколько секунд вы должны увидеть страницу успешного обновления.
            <br/>
            - Если вы увидите какие-либо ошибки, немедленно сообщите о них на форуме перед тем, как продолжить.
          </li>          

          <li>Очистите любые куки в вашем браузере.</li>

          <li>Перейдите на административную панель вашего магазина и несколько раз нажмите Ctrl+F5 или Ctrl+Shift+R, чтобы обновить кэш браузера. Это предотвратит неправильное отображение элементов из-за изменений в таблице стилей. Войдите в свою административную панель как главный администратор.</li>

          <li>Перейдите в <strong>Админ->Пользователи->Группы пользователей</strong> и отредактируйте группу "Главный администратор". Убедитесь, что все флажки установлены.
            <br/>
            - Это обеспечит вам права на все новые файлы.</li>

          <li>Перейдите в <strong>Админ->Расширения->Расширения->Темы</strong>, включите и сохраните тему по умолчанию снова.</li>

          <li>Перейдите в <strong>Админ->Системные настройки</strong>
            <br/>
            - Обновите любые пустые поля и нажмите "Сохранить".
            <br/>
            Даже если вы не видите новых полей, все равно нажмите "Сохранить", чтобы обновить базу данных с новыми именами полей.</li>

          <li>Другие настройки, которые могут потребоваться в зависимости от версии, с которой вы обновляетесь, и до какой версии. Эти изменения разбиты по версиям, в которых они были добавлены. Если вы не находитесь на этой версии, вам, возможно, придется внести изменения.</li>

          <li>Загрузите витрину магазина и снова нажмите CTRL+F5 3 раза, чтобы обновить кэш браузера. Это предотвратит неправильное отображение элементов из-за таблицы стилей. (Если вы пропустите шаг 8, вы получите сообщение об ошибке.)</li>

      </div>
    </div>
  </div>


  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="heading-oc14x2oc15x">
      <h4 class="panel-title">
        <a role="button" data-toggle="collapse" data-parent="#accordion" href="#oc14x2oc15x" aria-expanded="true" aria-controls="oc14x2oc15x">
          Обновление с 1.4.x до 1.5.x
        </a>        
      </h4>
    </div>
    <div id="oc14x2oc15x" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading-oc14x2oc15x">
      <div class="panel-body">
        <p>Если вы хотите перейти на последнюю версию и в данный момент используете версию 1.4.x, вам нужно скачать скрипт с форума OpenCart: <a href="https://forum.opencart.com/viewtopic.php?f=2&amp;t=50292">https://forum.opencart.com/viewtopic.php?f=2&amp;t=50292</a>.</p>
        <h2>Обновление с 1.5.x до последней версии</h2>
        <p>Обновление с версии 1.5.x до самой новой версии — это более простой процесс, чем обновление с 1.4.x. Чтобы получить последнюю версию OpenCart, перейдите на страницу <a href="https://www.opencart.com/index.php?route=cms/download">Скачать</a>:</p>
        <p class="text-center"><img src="image/latest_version.png" alt="последняя версия" class="img-thumbnail" /></p>
        <p>Последняя версия всегда будет вверху списка загрузок. Нажмите "Скачать", чтобы сохранить zip-версию. Распакуйте zip-файл в месте, которое будет легко найти позже.</p>
        <p>Следующий шаг в процессе обновления — загрузить файлы из последней версии в файловый каталог магазина с помощью FTP-клиента. Передача этих файлов перезапишет существующие файлы, поэтому рекомендуется сохранить существующие файлы из корневого каталога магазина на компьютере администратора в виде zip-файла. Также, если вы еще этого не сделали, вам следует посетить раздел <a href="en-gb/system/backup/">Резервное копирование/Восстановление</a>, чтобы сохранить резервную sql-файл, содержащий информацию о базе данных магазина.</p>
        <p>После резервного копирования файлов магазина можно загрузить новейшую версию с помощью FTP-клиента. Смотрите <a href="en-gb/installation/">Установку</a>, чтобы узнать, как подключиться к каталогу магазина, используя Filezilla. На стороне локального сайта найдите папку загрузки версии OpenCart и откройте ее, чтобы просмотреть ее содержимое. <strong>Два файла, которые необходимо исключить из загрузки в корневой каталог магазина: "upload/config.php" и "upload/admin/config.php".</strong></p>
        <p class="text-center"><img src="image/delete-admin-config.png" alt="удалить конфигурацию администратора" class="img-thumbnail" /> <img src="image/delete-config.png" alt="удалить конфигурацию" class="img-thumbnail" /></p>
        <p>Самый простой способ загрузить файлы последней версии без этих двух файлов config.php — это удалить их на стороне локального сайта перед загрузкой. Таким образом, вы сможете выбрать все файлы в папке загрузки, не беспокоясь о том, что файлы config.php были загружены случайно. На скриншоте ниже магазин расположен в "public_html/update", поэтому все файлы из "upload" выбраны и перетянуты в полосу прокрутки. Каждый файл в "upload" автоматически загружается в нужный путь. Эти файлы должны перезаписать существующие файлы, поэтому выберите "Перезаписать", когда FTP-клиент задаст вопрос.</p>
        <p class="text-center"><img src="image/ftp-update-155.png" alt="ftp обновление версии 155" class="img-thumbnail" /></p>
        <p>После загрузки файлов новой версии в FTP-клиент администратору необходимо посетить страницу установки. Страница установки расположена по адресу магазина с добавлением "/install", например: www."mystore".com/install. На следующем скриншоте отображаются инструкции по обновлению после завершения обновления при просмотре страницы установки.</p>
        <p class="text-center"><img src="image/upgrade-install.png" alt="обновление установки" class="img-thumbnail" /></p>
        <p>После завершения обновления OpenCart будет отображена следующая страница успешного завершения. Теперь можно удалить директорию установки.</p>
        <p class="text-center"><img src="image/upgrade%20complete.png" alt="обновление завершено" class="img-thumbnail" /></p>
        <p>Хотя обновление завершено, все еще необходимо сделать несколько вещей, чтобы привести в порядок административную часть вашего магазина:</p>
        <ul>
          <li>Удалите куки из вашего браузера.</li>
          <li>Нажмите CTRL+F5 три раза как на стороне администратора, так и на стороне магазина.</li>
          <li>Перейдите к настройкам магазина и заполните любые недостающие данные. Смотрите Настройки, чтобы узнать, как редактировать настройки магазина.</li>
          <li>Перейдите к Группам пользователей и дайте Главному администратору все привилегии, необходимые для управления администрированием. Смотрите Пользователи для получения дополнительной информации о том, как редактировать Группы пользователей.</li>
        </ul>
        <p>Как только административная часть будет в порядке, вы можете продолжить рутину управления своим магазином; теперь у вас есть все улучшенные инструменты и функции, которые появились благодаря обновлению.</p>
      </div>
    </div>
  </div>

</div>
